import{u as ye,H as Se,r as d,J as Ce,a as De,K as D,g as k,o as w,p as O,P as z,L as I,N as ke,O as S,c as b,n as g,j as a,Q as v,f as j,S as we,U as je,V as H,v as f,i as Me,t as Pe,B as C,z as We,w as B}from"./index-DDAymdml.js";import{u as Y,A as Te,D as Re,S as Ae,a as Be}from"./DogList-BIEsAFZb.js";import{u as $e}from"./useAuthRedirect-KEjVnfJk.js";import"./useControlled-BP07tG4d.js";import"./isMuiElement-C2wsCtKj.js";function Fe(t,e,o,s,r){const[n,l]=d.useState(()=>r&&o?o(t).matches:s?s(t).matches:e);return De(()=>{if(!o)return;const i=o(t),c=()=>{l(i.matches)};return c(),i.addEventListener("change",c),()=>{i.removeEventListener("change",c)}},[t,o]),n}const Le={...Ce},V=Le.useSyncExternalStore;function Ne(t,e,o,s,r){const n=d.useCallback(()=>e,[e]),l=d.useMemo(()=>{if(r&&o)return()=>o(t).matches;if(s!==null){const{matches:p}=s(t);return()=>p}return n},[n,t,s,r,o]),[i,c]=d.useMemo(()=>{if(o===null)return[n,()=>()=>{}];const p=o(t);return[()=>p.matches,u=>(p.addEventListener("change",u),()=>{p.removeEventListener("change",u)})]},[n,o,t]);return V(c,i,l)}function X(t={}){const{themeId:e}=t;return function(s,r={}){let n=ye();n&&e&&(n=n[e]||n);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:c=l?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:p=!1}=Se({name:"MuiUseMediaQuery",props:r,theme:n});let u=typeof s=="function"?s(n):s;return u=u.replace(/^@media( ?)/m,""),(V!==void 0?Ne:Fe)(u,i,c,m,p)}}X();function Ue(t){return k("MuiDialog",t)}const A=D("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),K=d.createContext({}),Ee=g(je,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Ie=t=>{const{classes:e,scroll:o,maxWidth:s,fullWidth:r,fullScreen:n}=t,l={root:["root"],container:["container",`scroll${v(o)}`],paper:["paper",`paperScroll${v(o)}`,`paperWidth${v(String(s))}`,r&&"paperFullWidth",n&&"paperFullScreen"]};return j(l,Ue,e)},Qe=g(we,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Oe=g("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.container,e[`scroll${v(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ze=g(z,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.paper,e[`scrollPaper${v(o.scroll)}`],e[`paperWidth${v(String(o.maxWidth))}`],o.fullWidth&&e.paperFullWidth,o.fullScreen&&e.paperFullScreen]}})(H(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${A.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${A.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${A.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),He=d.forwardRef(function(e,o){const s=w({props:e,name:"MuiDialog"}),r=O(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:m,BackdropProps:p,children:u,className:$,disableEscapeKeyDown:M=!1,fullScreen:_=!1,fullWidth:J=!1,maxWidth:G="sm",onBackdropClick:F,onClick:L,onClose:P,open:N,PaperComponent:Z=z,PaperProps:U={},scroll:q="paper",slots:ee={},slotProps:te={},TransitionComponent:oe=I,transitionDuration:E=n,TransitionProps:se,...ae}=s,h={...s,disableEscapeKeyDown:M,fullScreen:_,fullWidth:J,maxWidth:G,scroll:q},W=Ie(h),T=d.useRef(),ne=x=>{T.current=x.target===x.currentTarget},re=x=>{L&&L(x),T.current&&(T.current=null,F&&F(x),P&&P(x,"backdropClick"))},R=ke(i),ie=d.useMemo(()=>({titleId:R}),[R]),le={transition:oe,...ee},ce={transition:se,paper:U,backdrop:p,...te},y={slots:le,slotProps:ce},[de,pe]=S("root",{elementType:Qe,shouldForwardComponentProp:!0,externalForwardedProps:y,ownerState:h,className:b(W.root,$),ref:o}),[ue,ge]=S("backdrop",{elementType:Ee,shouldForwardComponentProp:!0,externalForwardedProps:y,ownerState:h}),[me,he]=S("paper",{elementType:ze,shouldForwardComponentProp:!0,externalForwardedProps:y,ownerState:h,className:b(W.paper,U.className)}),[xe,fe]=S("container",{elementType:Oe,externalForwardedProps:y,ownerState:h,className:b(W.container)}),[be,ve]=S("transition",{elementType:I,externalForwardedProps:y,ownerState:h,additionalProps:{appear:!0,in:N,timeout:E,role:"presentation"}});return a.jsx(de,{closeAfterTransition:!0,slots:{backdrop:ue},slotProps:{backdrop:{transitionDuration:E,as:m,...ge}},disableEscapeKeyDown:M,onClose:P,open:N,onClick:re,...pe,...ae,children:a.jsx(be,{...ve,children:a.jsx(xe,{onMouseDown:ne,...fe,children:a.jsx(me,{as:Z,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":R,"aria-modal":c,...he,children:a.jsx(K.Provider,{value:ie,children:u})})})})})});function Ye(t){return k("MuiDialogActions",t)}D("MuiDialogActions",["root","spacing"]);const Ve=t=>{const{classes:e,disableSpacing:o}=t;return j({root:["root",!o&&"spacing"]},Ye,e)},Xe=g("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ke=d.forwardRef(function(e,o){const s=w({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:n=!1,...l}=s,i={...s,disableSpacing:n},c=Ve(i);return a.jsx(Xe,{className:b(c.root,r),ownerState:i,ref:o,...l})});function _e(t){return k("MuiDialogContent",t)}D("MuiDialogContent",["root","dividers"]);function Je(t){return k("MuiDialogTitle",t)}const Ge=D("MuiDialogTitle",["root"]),Ze=t=>{const{classes:e,dividers:o}=t;return j({root:["root",o&&"dividers"]},_e,e)},qe=g("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.dividers&&e.dividers]}})(H(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Ge.root} + &`]:{paddingTop:0}}}]}))),Q=d.forwardRef(function(e,o){const s=w({props:e,name:"MuiDialogContent"}),{className:r,dividers:n=!1,...l}=s,i={...s,dividers:n},c=Ze(i);return a.jsx(qe,{className:b(c.root,r),ownerState:i,ref:o,...l})}),et=t=>{const{classes:e}=t;return j({root:["root"]},Je,e)},tt=g(f,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),ot=d.forwardRef(function(e,o){const s=w({props:e,name:"MuiDialogTitle"}),{className:r,id:n,...l}=s,i=s,c=et(i),{titleId:m=n}=d.useContext(K);return a.jsx(tt,{component:"h2",className:b(c.root,r),ownerState:i,ref:o,variant:"h6",id:n??m,...l})}),st=X({themeId:Me});function at({open:t,onClose:e}){const{matchLoading:o,currentMatch:s}=Y(),r=O(),n=st(r.breakpoints.down("sm")),{goMatches:l}=Pe(),i=()=>{l(),e()};return a.jsx(He,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"match-dialog-title","aria-describedby":"match-dialog-description",role:"alertdialog",children:o?a.jsx(Q,{children:a.jsxs(C,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:200,textAlign:"center",children:[a.jsx(We,{size:50,"aria-label":"Loading..."}),a.jsx(f,{variant:"h6",mt:2,fontWeight:600,children:"Finding the best match for you..."})]})}):a.jsxs(a.Fragment,{children:[a.jsx(ot,{id:"match-dialog-title",textAlign:"center",children:"ðŸ¶ Match Found!"}),a.jsx(Q,{id:"match-dialog-description",children:a.jsxs(C,{display:"flex",flexDirection:"column",alignItems:"center",children:[a.jsx(Te,{src:s==null?void 0:s.img,alt:s==null?void 0:s.name,sx:{width:n?120:150,height:n?120:150,mb:2}}),a.jsx(f,{variant:n?"h6":"h5",fontWeight:"bold",children:s==null?void 0:s.name}),a.jsxs(f,{variant:"body1",fontSize:"1.1rem",mt:1,children:["Breed: ",a.jsx("strong",{children:s==null?void 0:s.breed})]}),a.jsxs(f,{variant:"body2",fontSize:"1rem",color:"text.secondary",children:["Age: ",s==null?void 0:s.age," years"]})]})}),a.jsxs(Ke,{sx:{justifyContent:"center",pb:2},children:[a.jsx(B,{variant:"contained",color:"primary",onClick:e,"aria-label":"Close match details",children:"Close"}),a.jsx(B,{variant:"contained",color:"primary",onClick:i,"aria-label":"View matchs",children:"See Matches"})]})]})})}function dt(){$e();const{favoriteDogDetailList:t,favoriteDogIdList:e,createMatch:o}=Y(),[s,r]=d.useState(!1),[n,l]=d.useState(!1),i=d.useCallback(async()=>{if(e.length<2){l(!0);return}r(!0),await o()},[e,o]),c=()=>r(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{maxWidth:600,margin:"auto",textAlign:"center"},children:[a.jsxs(C,{sx:{borderBottom:"2px solid black",padding:"10px 0",display:"flex",justifyContent:"space-between"},children:[a.jsx(f,{variant:"h4",gutterBottom:!0,children:"Favorite Dogs"}),a.jsx(C,{sx:{display:"flex",alignItems:"center",marginLeft:"auto"},children:a.jsx(B,{onClick:i,variant:"contained",color:"primary",children:"Create Match"})})]}),a.jsx(Re,{dogList:t??[],isMatches:!1})]}),a.jsx(at,{open:s,onClose:c}),a.jsx(Ae,{open:n,autoHideDuration:3e3,onClose:()=>l(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:a.jsx(Be,{onClose:()=>l(!1),severity:"warning",variant:"filled",children:"At least 2 dogs needed to create match"})})]})}export{dt as default};
